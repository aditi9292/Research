<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="54" endline="69">
{
    this.serviceContainer = serviceContainer;
    this.raEntityName = name;
    this.jndiName = "java:slee/resources/" + name + "/parlayacif";
    this.activityContextFactory = getActivityContextFactory ();
    if (logger.isDebugEnabled ()) {
        logger.debug ("ParlayActivityContextInterfaceFactoryImpl.jndiName = " + jndiName);
    }

}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="64" endline="68">
{
    logger.debug ("ParlayActivityContextInterfaceFactoryImpl.jndiName = " + jndiName);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="81" endline="86">
{
    return serviceContainer.getActivityContextFactory ();
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="91" endline="93">
{
    return jndiName;
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="102" endline="119">
{
    if (logger.isDebugEnabled ()) {
        logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + serviceIdentifier + CALLED);
    }

    if (serviceIdentifier == null) {
        throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
    }
    else {
        ParlayServiceActivityHandle activityHandle = new ParlayServiceActivityHandle (serviceIdentifier);
        return getActivityContextInterface (activityHandle);
    }

}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="104" endline="107">
{
    logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + serviceIdentifier + CALLED);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="109" endline="112">
{
    throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="113" endline="118">
{
    ParlayServiceActivityHandle activityHandle = new ParlayServiceActivityHandle (serviceIdentifier);
    return getActivityContextInterface (activityHandle);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="128" endline="145">
{
    if (logger.isDebugEnabled ()) {
        logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + call + CALLED);
    }

    if (call == null) {
        throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
    }
    else {
        TpMultiPartyCallActivityHandle activityHandle = new TpMultiPartyCallActivityHandle (call);
        return getActivityContextInterface (activityHandle);
    }

}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="130" endline="133">
{
    logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + call + CALLED);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="135" endline="138">
{
    throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="139" endline="144">
{
    TpMultiPartyCallActivityHandle activityHandle = new TpMultiPartyCallActivityHandle (call);
    return getActivityContextInterface (activityHandle);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="154" endline="171">
{
    if (logger.isDebugEnabled ()) {
        logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + callLeg + CALLED);
    }

    if (callLeg == null) {
        throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
    }
    else {
        TpCallLegActivityHandle activityHandle = new TpCallLegActivityHandle (callLeg);
        return getActivityContextInterface (activityHandle);
    }

}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="156" endline="159">
{
    logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + callLeg + CALLED);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="161" endline="164">
{
    throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="165" endline="170">
{
    TpCallLegActivityHandle activityHandle = new TpCallLegActivityHandle (callLeg);
    return getActivityContextInterface (activityHandle);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="180" endline="190">
{
    SleeActivityHandle sleeActivityHandle = new SleeActivityHandle (raEntityName, activityHandle, serviceContainer);
    String activityContextID = activityContextFactory.getActivityContext (sleeActivityHandle).getActivityContextId ();
    return new ActivityContextInterfaceImpl (this.serviceContainer, activityContextID);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="195" endline="211">
{
    if (logger.isDebugEnabled ()) {
        logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + call + CALLED);
    }

    if (call == null) {
        throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
    }

    TpCallActivityHandle activityHandle = new TpCallActivityHandle (call);
    return getActivityContextInterface (activityHandle);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="196" endline="199">
{
    logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + call + CALLED);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="201" endline="204">
{
    throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="213" endline="228">
{
    if (logger.isDebugEnabled ()) {
        logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + ui + CALLED);
    }

    if (ui == null) {
        throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
    }

    TpUIActivityHandle activityHandle = new TpUIActivityHandle (ui);
    return getActivityContextInterface (activityHandle);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="214" endline="217">
{
    logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + ui + CALLED);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="219" endline="222">
{
    throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="230" endline="245">
{
    if (logger.isDebugEnabled ()) {
        logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + uiCall + CALLED);
    }

    if (uiCall == null) {
        throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
    }

    TpUICallActivityHandle activityHandle = new TpUICallActivityHandle (uiCall);
    return getActivityContextInterface (activityHandle);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="231" endline="234">
{
    logger.debug (GET_ACTIVITY_CONTEXT_INTERFACE + uiCall + CALLED);
}
</source>
<source file="../../files/test/ParlayActivityContextInterfaceFactoryImpl.java" startline="236" endline="239">
{
    throw new IllegalArgumentException (ACTIVITY_CONTEXT_INTERFACE_ID_IS_NULL);
}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="27" endline="29">
{
    super ();
}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="34" endline="46">
{
    final ByteArrayOutputStream b = new ByteArrayOutputStream ();
    final ObjectOutputStream out = new ObjectOutputStream (b);
    out.writeObject (event);
    out.flush ();
    out.close ();
    return ByteBuffer.wrap (b.toByteArray ());
}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="51" endline="68">
{
    Object result = null;
    if (marshalledEvent.hasArray ()) {
        final ByteArrayInputStream b = new ByteArrayInputStream (marshalledEvent.array ());
        final ObjectInputStream in = new ObjectInputStream (b);
        try {
            result = in.readObject ();
        }
        catch (ClassNotFoundException e) {
            logger.error (FAILED_TO_UNMARSHALL_EVENT);
            throw new IOException (FAILED_TO_UNMARSHALL_EVENT);
        }

    }

    return result;
}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="54" endline="65">
{
    final ByteArrayInputStream b = new ByteArrayInputStream (marshalledEvent.array ());
    final ObjectInputStream in = new ObjectInputStream (b);
    try {
        result = in.readObject ();
    }
    catch (ClassNotFoundException e) {
        logger.error (FAILED_TO_UNMARSHALL_EVENT);
        throw new IOException (FAILED_TO_UNMARSHALL_EVENT);
    }

}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="58" endline="60">
{
    result = in.readObject ();
}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="61" endline="64">
{
    logger.error (FAILED_TO_UNMARSHALL_EVENT);
    throw new IOException (FAILED_TO_UNMARSHALL_EVENT);
}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="73" endline="85">
{
    final ByteArrayOutputStream b = new ByteArrayOutputStream ();
    final ObjectOutputStream out = new ObjectOutputStream (b);
    out.writeObject (handle);
    out.flush ();
    out.close ();
    return ByteBuffer.wrap (b.toByteArray ());
}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="90" endline="107">
{
    Object result = null;
    if (marshalledHandle.hasArray ()) {
        final ByteArrayInputStream b = new ByteArrayInputStream (marshalledHandle.array ());
        final ObjectInputStream in = new ObjectInputStream (b);
        try {
            result = in.readObject ();
        }
        catch (ClassNotFoundException e) {
            logger.error (FAILED_TO_UNMARSHALL_EVENT);
            throw new IOException (FAILED_TO_UNMARSHALL_EVENT);
        }

    }

    return (ActivityHandle) result;
}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="93" endline="104">
{
    final ByteArrayInputStream b = new ByteArrayInputStream (marshalledHandle.array ());
    final ObjectInputStream in = new ObjectInputStream (b);
    try {
        result = in.readObject ();
    }
    catch (ClassNotFoundException e) {
        logger.error (FAILED_TO_UNMARSHALL_EVENT);
        throw new IOException (FAILED_TO_UNMARSHALL_EVENT);
    }

}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="97" endline="99">
{
    result = in.readObject ();
}
</source>
<source file="../../files/test/ParlayMarshaler.java" startline="100" endline="103">
{
    logger.error (FAILED_TO_UNMARSHALL_EVENT);
    throw new IOException (FAILED_TO_UNMARSHALL_EVENT);
}
</source>
