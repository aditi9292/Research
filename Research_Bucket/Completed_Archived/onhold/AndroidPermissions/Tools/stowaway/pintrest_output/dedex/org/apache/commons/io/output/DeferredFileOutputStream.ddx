.class public org/apache/commons/io/output/DeferredFileOutputStream
.super org/apache/commons/io/output/ThresholdingOutputStream
.source DeferredFileOutputStream.java

.field private closed Z
.field private currentOutputStream Ljava/io/OutputStream;
.field private final directory Ljava/io/File;
.field private memoryOutputStream Lorg/apache/commons/io/output/ByteArrayOutputStream;
.field private outputFile Ljava/io/File;
.field private final prefix Ljava/lang/String;
.field private final suffix Ljava/lang/String;

.method public <init>(ILjava/io/File;)V
.limit registers 9
; this: v6 (Lorg/apache/commons/io/output/DeferredFileOutputStream;)
; parameter[0] : v7 (I)
; parameter[1] : v8 (Ljava/io/File;)
	const/4	v3,0
; v3 : single-length
.line 104
	move-object	v0,v6
; v0 : Lorg/apache/commons/io/output/DeferredFileOutputStream; , v6 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	move	v1,v7
; v1 : single-length , v7 : single-length
	move-object	v2,v8
; v2 : Ljava/io/File; , v8 : Ljava/io/File;
	move-object	v4,v3
; v4 : single-length , v3 : single-length
	move-object	v5,v3
; v5 : single-length , v3 : single-length
	invoke-direct/range	{v0..v5},org/apache/commons/io/output/DeferredFileOutputStream/<init>;	<init>(ILjava/io/File;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;)V
; v0 : Lorg/apache/commons/io/output/DeferredFileOutputStream; , v1 : single-length , v2 : Ljava/io/File; , v3 : single-length , v4 : single-length , v5 : single-length
.line 105
	return-void	
.end method

.method private <init>(ILjava/io/File;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;)V
.limit registers 7
; this: v1 (Lorg/apache/commons/io/output/DeferredFileOutputStream;)
; parameter[0] : v2 (I)
; parameter[1] : v3 (Ljava/io/File;)
; parameter[2] : v4 (Ljava/lang/String;)
; parameter[3] : v5 (Ljava/lang/String;)
; parameter[4] : v6 (Ljava/io/File;)
.line 138
	invoke-direct	{v1,v2},org/apache/commons/io/output/ThresholdingOutputStream/<init>	; <init>(I)V
; v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream; , v2 : single-length
.line 90
	const/4	v0,0
; v0 : single-length
	iput-boolean	v0,v1,org/apache/commons/io/output/DeferredFileOutputStream.closed Z
; v0 : single-length , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 139
	iput-object	v3,v1,org/apache/commons/io/output/DeferredFileOutputStream.outputFile Ljava/io/File;
; v3 : Ljava/io/File; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 141
	new-instance	v0,org/apache/commons/io/output/ByteArrayOutputStream
; v0 : Lorg/apache/commons/io/output/ByteArrayOutputStream;
	invoke-direct	{v0},org/apache/commons/io/output/ByteArrayOutputStream/<init>	; <init>()V
; v0 : Lorg/apache/commons/io/output/ByteArrayOutputStream;
	iput-object	v0,v1,org/apache/commons/io/output/DeferredFileOutputStream.memoryOutputStream Lorg/apache/commons/io/output/ByteArrayOutputStream;
; v0 : Lorg/apache/commons/io/output/ByteArrayOutputStream; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 142
	iget-object	v0,v1,org/apache/commons/io/output/DeferredFileOutputStream.memoryOutputStream Lorg/apache/commons/io/output/ByteArrayOutputStream;
; v0 : Lorg/apache/commons/io/output/ByteArrayOutputStream; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	iput-object	v0,v1,org/apache/commons/io/output/DeferredFileOutputStream.currentOutputStream Ljava/io/OutputStream;
; v0 : Lorg/apache/commons/io/output/ByteArrayOutputStream; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 143
	iput-object	v4,v1,org/apache/commons/io/output/DeferredFileOutputStream.prefix Ljava/lang/String;
; v4 : Ljava/lang/String; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 144
	iput-object	v5,v1,org/apache/commons/io/output/DeferredFileOutputStream.suffix Ljava/lang/String;
; v5 : Ljava/lang/String; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 145
	iput-object	v6,v1,org/apache/commons/io/output/DeferredFileOutputStream.directory Ljava/io/File;
; v6 : Ljava/io/File; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 146
	return-void	
.end method

.method public <init>(ILjava/lang/String;Ljava/lang/String;Ljava/io/File;)V
.limit registers 11
; this: v6 (Lorg/apache/commons/io/output/DeferredFileOutputStream;)
; parameter[0] : v7 (I)
; parameter[1] : v8 (Ljava/lang/String;)
; parameter[2] : v9 (Ljava/lang/String;)
; parameter[3] : v10 (Ljava/io/File;)
.line 121
	const/4	v2,0
; v2 : single-length
	move-object	v0,v6
; v0 : Lorg/apache/commons/io/output/DeferredFileOutputStream; , v6 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	move	v1,v7
; v1 : single-length , v7 : single-length
	move-object	v3,v8
; v3 : Ljava/lang/String; , v8 : Ljava/lang/String;
	move-object	v4,v9
; v4 : Ljava/lang/String; , v9 : Ljava/lang/String;
	move-object	v5,v10
; v5 : Ljava/io/File; , v10 : Ljava/io/File;
	invoke-direct/range	{v0..v5},org/apache/commons/io/output/DeferredFileOutputStream/<init>;	<init>(ILjava/io/File;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;)V
; v0 : Lorg/apache/commons/io/output/DeferredFileOutputStream; , v1 : single-length , v2 : single-length , v3 : Ljava/lang/String; , v4 : Ljava/lang/String; , v5 : Ljava/io/File;
.line 122
	if-nez	v8,l11eef2
; v8 : Ljava/lang/String;
.line 123
	new-instance	v0,java/lang/IllegalArgumentException
; v0 : Ljava/lang/IllegalArgumentException;
	const-string	v1,"Temporary file prefix is missing"
; v1 : Ljava/lang/String;
	invoke-direct	{v0,v1},java/lang/IllegalArgumentException/<init>	; <init>(Ljava/lang/String;)V
; v0 : Ljava/lang/IllegalArgumentException; , v1 : Ljava/lang/String;
	throw	v0
; v0 : Ljava/lang/IllegalArgumentException;
l11eef2:
.line 125
	return-void	
.end method

.method public close()V
.throws Ljava/io/IOException;
.limit registers 2
; this: v1 (Lorg/apache/commons/io/output/DeferredFileOutputStream;)
.line 250
	invoke-super	{v1},org/apache/commons/io/output/ThresholdingOutputStream/close	; close()V
; v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 251
	const/4	v0,1
; v0 : single-length
	iput-boolean	v0,v1,org/apache/commons/io/output/DeferredFileOutputStream.closed Z
; v0 : single-length , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 252
	return-void	
.end method

.method public getData()[B
.limit registers 2
; this: v1 (Lorg/apache/commons/io/output/DeferredFileOutputStream;)
.line 214
	iget-object	v0,v1,org/apache/commons/io/output/DeferredFileOutputStream.memoryOutputStream Lorg/apache/commons/io/output/ByteArrayOutputStream;
; v0 : Lorg/apache/commons/io/output/ByteArrayOutputStream; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	if-eqz	v0,l11ef3a
; v0 : Lorg/apache/commons/io/output/ByteArrayOutputStream;
.line 216
	iget-object	v0,v1,org/apache/commons/io/output/DeferredFileOutputStream.memoryOutputStream Lorg/apache/commons/io/output/ByteArrayOutputStream;
; v0 : Lorg/apache/commons/io/output/ByteArrayOutputStream; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	invoke-virtual	{v0},org/apache/commons/io/output/ByteArrayOutputStream/toByteArray	; toByteArray()[B
; v0 : Lorg/apache/commons/io/output/ByteArrayOutputStream;
	move-result-object	v0
; v0 : [B
l11ef38:
.line 218
	return-object	v0
; v0 : single-length
l11ef3a:
	const/4	v0,0
; v0 : single-length
	goto	l11ef38
.end method

.method public getFile()Ljava/io/File;
.limit registers 2
; this: v1 (Lorg/apache/commons/io/output/DeferredFileOutputStream;)
.line 238
	iget-object	v0,v1,org/apache/commons/io/output/DeferredFileOutputStream.outputFile Ljava/io/File;
; v0 : Ljava/io/File; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	return-object	v0
; v0 : Ljava/io/File;
.end method

.method protected getStream()Ljava/io/OutputStream;
.throws Ljava/io/IOException;
.limit registers 2
; this: v1 (Lorg/apache/commons/io/output/DeferredFileOutputStream;)
.line 163
	iget-object	v0,v1,org/apache/commons/io/output/DeferredFileOutputStream.currentOutputStream Ljava/io/OutputStream;
; v0 : Ljava/io/OutputStream; , v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	return-object	v0
; v0 : Ljava/io/OutputStream;
.end method

.method public isInMemory()Z
.limit registers 2
; this: v1 (Lorg/apache/commons/io/output/DeferredFileOutputStream;)
.line 200
	invoke-virtual	{v1},org/apache/commons/io/output/DeferredFileOutputStream/isThresholdExceeded	; isThresholdExceeded()Z
; v1 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	move-result	v0
; v0 : single-length
	if-nez	v0,l11ef90
; v0 : single-length
	const/4	v0,1
; v0 : single-length
l11ef8e:
	return	v0
; v0 : single-length
l11ef90:
	const/4	v0,0
; v0 : single-length
	goto	l11ef8e
.end method

.method protected thresholdReached()V
.throws Ljava/io/IOException;
.limit registers 5
; this: v4 (Lorg/apache/commons/io/output/DeferredFileOutputStream;)
.line 178
	iget-object	v1,v4,org/apache/commons/io/output/DeferredFileOutputStream.prefix Ljava/lang/String;
; v1 : Ljava/lang/String; , v4 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	if-eqz	v1,l11efc4
; v1 : Ljava/lang/String;
.line 179
	iget-object	v1,v4,org/apache/commons/io/output/DeferredFileOutputStream.prefix Ljava/lang/String;
; v1 : Ljava/lang/String; , v4 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	iget-object	v2,v4,org/apache/commons/io/output/DeferredFileOutputStream.suffix Ljava/lang/String;
; v2 : Ljava/lang/String; , v4 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	iget-object	v3,v4,org/apache/commons/io/output/DeferredFileOutputStream.directory Ljava/io/File;
; v3 : Ljava/io/File; , v4 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	invoke-static	{v1,v2,v3},java/io/File/createTempFile	; createTempFile(Ljava/lang/String;Ljava/lang/String;Ljava/io/File;)Ljava/io/File;
; v1 : Ljava/lang/String; , v2 : Ljava/lang/String; , v3 : Ljava/io/File;
	move-result-object	v1
; v1 : Ljava/io/File;
	iput-object	v1,v4,org/apache/commons/io/output/DeferredFileOutputStream.outputFile Ljava/io/File;
; v1 : Ljava/io/File; , v4 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
l11efc4:
.line 181
	new-instance	v0,java/io/FileOutputStream
; v0 : Ljava/io/FileOutputStream;
	iget-object	v1,v4,org/apache/commons/io/output/DeferredFileOutputStream.outputFile Ljava/io/File;
; v1 : Ljava/io/File; , v4 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	invoke-direct	{v0,v1},java/io/FileOutputStream/<init>	; <init>(Ljava/io/File;)V
; v0 : Ljava/io/FileOutputStream; , v1 : Ljava/io/File;
.line 182
	iget-object	v1,v4,org/apache/commons/io/output/DeferredFileOutputStream.memoryOutputStream Lorg/apache/commons/io/output/ByteArrayOutputStream;
; v1 : Lorg/apache/commons/io/output/ByteArrayOutputStream; , v4 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	invoke-virtual	{v1,v0},org/apache/commons/io/output/ByteArrayOutputStream/writeTo	; writeTo(Ljava/io/OutputStream;)V
; v1 : Lorg/apache/commons/io/output/ByteArrayOutputStream; , v0 : Ljava/io/FileOutputStream;
.line 183
	iput-object	v0,v4,org/apache/commons/io/output/DeferredFileOutputStream.currentOutputStream Ljava/io/OutputStream;
; v0 : Ljava/io/FileOutputStream; , v4 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 184
	const/4	v1,0
; v1 : single-length
	iput-object	v1,v4,org/apache/commons/io/output/DeferredFileOutputStream.memoryOutputStream Lorg/apache/commons/io/output/ByteArrayOutputStream;
; v1 : single-length , v4 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
.line 185
	return-void	
.end method

.method public writeTo(Ljava/io/OutputStream;)V
.throws Ljava/io/IOException;
.limit registers 5
; this: v3 (Lorg/apache/commons/io/output/DeferredFileOutputStream;)
; parameter[0] : v4 (Ljava/io/OutputStream;)
.catch java/lang/Exception from l11f036 to l11f03c using l11f044
.line 267
	iget-boolean	v1,v3,org/apache/commons/io/output/DeferredFileOutputStream.closed Z
; v1 : single-length , v3 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	if-nez	v1,l11f010
; v1 : single-length
.line 269
	new-instance	v1,java/io/IOException
; v1 : Ljava/io/IOException;
	const-string	v2,"Stream not closed"
; v2 : Ljava/lang/String;
	invoke-direct	{v1,v2},java/io/IOException/<init>	; <init>(Ljava/lang/String;)V
; v1 : Ljava/io/IOException; , v2 : Ljava/lang/String;
	throw	v1
; v1 : Ljava/io/IOException;
l11f010:
.line 272
	invoke-virtual	{v3},org/apache/commons/io/output/DeferredFileOutputStream/isInMemory	; isInMemory()Z
; v3 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	move-result	v1
; v1 : single-length
	if-eqz	v1,l11f028
; v1 : single-length
.line 274
	iget-object	v1,v3,org/apache/commons/io/output/DeferredFileOutputStream.memoryOutputStream Lorg/apache/commons/io/output/ByteArrayOutputStream;
; v1 : Lorg/apache/commons/io/output/ByteArrayOutputStream; , v3 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	invoke-virtual	{v1,v4},org/apache/commons/io/output/ByteArrayOutputStream/writeTo	; writeTo(Ljava/io/OutputStream;)V
; v1 : Lorg/apache/commons/io/output/ByteArrayOutputStream; , v4 : Ljava/io/OutputStream;
l11f026:
.line 285
	return-void	
l11f028:
.line 278
	new-instance	v0,java/io/FileInputStream
; v0 : Ljava/io/FileInputStream;
	iget-object	v1,v3,org/apache/commons/io/output/DeferredFileOutputStream.outputFile Ljava/io/File;
; v1 : Ljava/io/File; , v3 : Lorg/apache/commons/io/output/DeferredFileOutputStream;
	invoke-direct	{v0,v1},java/io/FileInputStream/<init>	; <init>(Ljava/io/File;)V
; v0 : Ljava/io/FileInputStream; , v1 : Ljava/io/File;
l11f036:
.line 280
	invoke-static	{v0,v4},org/apache/commons/io/IOUtils/copy	; copy(Ljava/io/InputStream;Ljava/io/OutputStream;)I
; v0 : Ljava/io/FileInputStream; , v4 : Ljava/io/OutputStream;
l11f03c:
.line 282
	invoke-static	{v0},org/apache/commons/io/IOUtils/closeQuietly	; closeQuietly(Ljava/io/InputStream;)V
; v0 : Ljava/io/FileInputStream;
	goto	l11f026
l11f044:
	move-exception	v1
; v1 : java/lang/Exception
	invoke-static	{v0},org/apache/commons/io/IOUtils/closeQuietly	; closeQuietly(Ljava/io/InputStream;)V
; v0 : Ljava/io/FileInputStream;
	throw	v1
; v1 : java/lang/Exception
.end method


