.class public com/pinterest/kit/network/PImageDiskCache
.super java/lang/Object
.source PImageDiskCache.java

.inner class 1 inner com/pinterest/kit/network/PImageDiskCache$1 outer com/pinterest/kit/network/PImageDiskCache
.inner class CacheBitmap inner com/pinterest/kit/network/PImageDiskCache$CacheBitmap outer com/pinterest/kit/network/PImageDiskCache
.inner class CachingThread inner com/pinterest/kit/network/PImageDiskCache$CachingThread outer com/pinterest/kit/network/PImageDiskCache
.field private static final MAX_SIZE J = 10485760	; 0xa00000
.field private static instance Lcom/pinterest/kit/network/PImageDiskCache;
.field private cacheDir Ljava/io/File;
.field private saveQueue Ljava/util/concurrent/BlockingQueue;
  .annotation systemVisibility Ldalvik/annotation/Signature;
    value [Ljava/lang/String; = { "Ljava/util/concurrent/BlockingQueue" , "<" , "Lcom/pinterest/kit/network/PImageDiskCache$CacheBitmap;" , ">;" }
  .end annotation
.end field
.field private saveThread Lcom/pinterest/kit/network/PImageDiskCache$CachingThread;

.method public <init>()V
.limit registers 3
; this: v2 (Lcom/pinterest/kit/network/PImageDiskCache;)
.line 32
	invoke-direct	{v2},java/lang/Object/<init>	; <init>()V
; v2 : Lcom/pinterest/kit/network/PImageDiskCache;
.line 33
	invoke-static	{},com/pinterest/kit/network/PImageCache/getCacheDirectory	; getCacheDirectory()Ljava/io/File;
; 
	nop	
	move-result-object	v0
; v0 : Ljava/io/File;
	iput-object	v0,v2,com/pinterest/kit/network/PImageDiskCache.cacheDir Ljava/io/File;
; v0 : Ljava/io/File; , v2 : Lcom/pinterest/kit/network/PImageDiskCache;
.line 34
	new-instance	v0,java/util/concurrent/ArrayBlockingQueue
; v0 : Ljava/util/concurrent/ArrayBlockingQueue;
	invoke-static	{},com/pinterest/base/Device/getDefaultLoadFactor	; getDefaultLoadFactor()I
; 
	nop	
	move-result	v1
; v1 : single-length
	mul-int/lit-8	v1,v1,64
; v1 : single-length , v1 : single-length
	invoke-direct	{v0,v1},java/util/concurrent/ArrayBlockingQueue/<init>	; <init>(I)V
; v0 : Ljava/util/concurrent/ArrayBlockingQueue; , v1 : single-length
	iput-object	v0,v2,com/pinterest/kit/network/PImageDiskCache.saveQueue Ljava/util/concurrent/BlockingQueue;
; v0 : Ljava/util/concurrent/ArrayBlockingQueue; , v2 : Lcom/pinterest/kit/network/PImageDiskCache;
.line 35
	new-instance	v0,com/pinterest/kit/network/PImageDiskCache$CachingThread
; v0 : Lcom/pinterest/kit/network/PImageDiskCache$CachingThread;
	const/4	v1,0
; v1 : single-length
	invoke-direct	{v0,v2,v1},com/pinterest/kit/network/PImageDiskCache$CachingThread/<init>	; <init>(Lcom/pinterest/kit/network/PImageDiskCache;Lcom/pinterest/kit/network/PImageDiskCache$1;)V
; v0 : Lcom/pinterest/kit/network/PImageDiskCache$CachingThread; , v2 : Lcom/pinterest/kit/network/PImageDiskCache; , v1 : single-length
	iput-object	v0,v2,com/pinterest/kit/network/PImageDiskCache.saveThread Lcom/pinterest/kit/network/PImageDiskCache$CachingThread;
; v0 : Lcom/pinterest/kit/network/PImageDiskCache$CachingThread; , v2 : Lcom/pinterest/kit/network/PImageDiskCache;
.line 36
	iget-object	v0,v2,com/pinterest/kit/network/PImageDiskCache.saveThread Lcom/pinterest/kit/network/PImageDiskCache$CachingThread;
; v0 : Lcom/pinterest/kit/network/PImageDiskCache$CachingThread; , v2 : Lcom/pinterest/kit/network/PImageDiskCache;
	const/4	v1,4
; v1 : single-length
	invoke-virtual	{v0,v1},com/pinterest/kit/network/PImageDiskCache$CachingThread/setPriority	; setPriority(I)V
; v0 : Lcom/pinterest/kit/network/PImageDiskCache$CachingThread; , v1 : single-length
.line 37
	iget-object	v0,v2,com/pinterest/kit/network/PImageDiskCache.saveThread Lcom/pinterest/kit/network/PImageDiskCache$CachingThread;
; v0 : Lcom/pinterest/kit/network/PImageDiskCache$CachingThread; , v2 : Lcom/pinterest/kit/network/PImageDiskCache;
	invoke-virtual	{v0},com/pinterest/kit/network/PImageDiskCache$CachingThread/start	; start()V
; v0 : Lcom/pinterest/kit/network/PImageDiskCache$CachingThread;
.line 38
	return-void	
.end method

.method static access$100(Lcom/pinterest/kit/network/PImageDiskCache;)Ljava/util/concurrent/BlockingQueue;
.limit registers 2
; parameter[0] : v1 (Lcom/pinterest/kit/network/PImageDiskCache;)
.line 23
	iget-object	v0,v1,com/pinterest/kit/network/PImageDiskCache.saveQueue Ljava/util/concurrent/BlockingQueue;
; v0 : Ljava/util/concurrent/BlockingQueue; , v1 : Lcom/pinterest/kit/network/PImageDiskCache;
	return-object	v0
; v0 : Ljava/util/concurrent/BlockingQueue;
.end method

.method static access$200(Lcom/pinterest/kit/network/PImageDiskCache;)Ljava/io/File;
.limit registers 2
; parameter[0] : v1 (Lcom/pinterest/kit/network/PImageDiskCache;)
.line 23
	iget-object	v0,v1,com/pinterest/kit/network/PImageDiskCache.cacheDir Ljava/io/File;
; v0 : Ljava/io/File; , v1 : Lcom/pinterest/kit/network/PImageDiskCache;
	return-object	v0
; v0 : Ljava/io/File;
.end method

.method private final deleteEntry(Ljava/lang/String;)V
.limit registers 19
; this: v17 (Lcom/pinterest/kit/network/PImageDiskCache;)
; parameter[0] : v18 (Ljava/lang/String;)
.catch java/lang/Exception from lf882e to lf890a using lf8918
.catch java/lang/Exception from lf87fc to lf882a using lf890e
.var 8 is manifest Lorg/json/JSONObject; from lf87fc to lf882a
.var 3 is entry Lorg/json/JSONObject; from lf886e to lf8898
.var 2 is entries Lorg/json/JSONArray; from lf884e to lf890a
.var 6 is i I from lf885a to lf890a
.var 7 is len I from lf8862 to lf890a
.var 10 is newEntries Lorg/json/JSONArray; from lf8858 to lf890a
.var 4 is entryName Ljava/lang/String; from lf8818 to lf890c
.var 9 is manifest Lorg/json/JSONObject; from lf882a to lf890c
.var 11 is size J from lf882e to lf890c
.var 13 is totalSize J from lf8836 to lf890c
.var 1 is e Ljava/lang/Exception; from lf8910 to lf8918
.var 8 is manifest Lorg/json/JSONObject; from lf890c to lf8918
.var 9 is manifest Lorg/json/JSONObject; from lf8918 to lf891c
.line 149
	new-instance	v5,java/io/File
; v5 : Ljava/io/File;
	move-object/from16	v0,v17
; v0 : Lcom/pinterest/kit/network/PImageDiskCache; , v17 : Lcom/pinterest/kit/network/PImageDiskCache;
	iget-object	v15,v0,com/pinterest/kit/network/PImageDiskCache.cacheDir Ljava/io/File;
; v15 : Ljava/io/File; , v0 : Lcom/pinterest/kit/network/PImageDiskCache;
	const-string	v16,"manifest.json"
; v16 : Ljava/lang/String;
	move-object/from16	v0,v16
; v0 : Ljava/lang/String; , v16 : Ljava/lang/String;
	invoke-direct	{v5,v15,v0},java/io/File/<init>	; <init>(Ljava/io/File;Ljava/lang/String;)V
; v5 : Ljava/io/File; , v15 : Ljava/io/File; , v0 : Ljava/lang/String;
.line 150
	const/4	v8,0
; v8 : single-length
lf87fc:
.line 152
	invoke-virtual	{v5},java/io/File/exists	; exists()Z
; v5 : Ljava/io/File;
	move-result	v15
; v15 : single-length
	if-eqz	v15,lf890c
; v15 : single-length
.line 153
	invoke-virtual/range	{v18},java/lang/String/hashCode;	hashCode()I
; v18 : Ljava/lang/String;
	move-result	v15
; v15 : single-length
	invoke-static	{v15},java/lang/String/valueOf	; valueOf(I)Ljava/lang/String;
; v15 : single-length
	move-result-object	v4
; v4 : Ljava/lang/String;
.line 154
	new-instance	v9,org/json/JSONObject
; v9 : Lorg/json/JSONObject;
	invoke-static	{v5},com/pinterest/kit/io/PIOUtils/loadTextFile	; loadTextFile(Ljava/io/File;)Ljava/lang/String;
; v5 : Ljava/io/File;
	move-result-object	v15
; v15 : Ljava/lang/String;
	invoke-direct	{v9,v15},org/json/JSONObject/<init>	; <init>(Ljava/lang/String;)V
; v9 : Lorg/json/JSONObject; , v15 : Ljava/lang/String;
lf882a:
.line 155
	const-wide/16	v11,0
; v11 : double-length
lf882e:
.line 156
	invoke-virtual	{v9,v4},org/json/JSONObject/getLong	; getLong(Ljava/lang/String;)J
; v9 : Lorg/json/JSONObject; , v4 : Ljava/lang/String;
	move-result-wide	v13
; v13 : double-length
.line 157
	const-wide/16	v15,0
; v15 : double-length
	cmp-long	v15,v11,v15
; v15 : single-length , v11 : double-length , v15 : single-length
	if-lez	v15,lf890a
; v15 : single-length
.line 158
	const-string	v15,"entries"
; v15 : Ljava/lang/String;
	invoke-virtual	{v9,v15},org/json/JSONObject/getJSONArray	; getJSONArray(Ljava/lang/String;)Lorg/json/JSONArray;
; v9 : Lorg/json/JSONObject; , v15 : Ljava/lang/String;
	move-result-object	v2
; v2 : Lorg/json/JSONArray;
.line 159
	new-instance	v10,org/json/JSONArray
; v10 : Lorg/json/JSONArray;
	invoke-direct	{v10},org/json/JSONArray/<init>	; <init>()V
; v10 : Lorg/json/JSONArray;
.line 161
	const/4	v6,0
; v6 : single-length
lf885a:
	invoke-virtual	{v2},org/json/JSONArray/length	; length()I
; v2 : Lorg/json/JSONArray;
	move-result	v7
; v7 : single-length
lf8862:
	if-ge	v6,v7,lf8898
; v6 : single-length , v7 : single-length
.line 162
	invoke-virtual	{v2,v6},org/json/JSONArray/getJSONObject	; getJSONObject(I)Lorg/json/JSONObject;
; v2 : Lorg/json/JSONArray; , v6 : single-length
	move-result-object	v3
; v3 : Lorg/json/JSONObject;
.line 163
	invoke-virtual	{v3,v4},org/json/JSONObject/getString	; getString(Ljava/lang/String;)Ljava/lang/String;
; v3 : Lorg/json/JSONObject; , v4 : Ljava/lang/String;
	move-result-object	v15
; v15 : Ljava/lang/String;
	invoke-virtual	{v15,v4},java/lang/String/equals	; equals(Ljava/lang/Object;)Z
; v15 : Ljava/lang/String; , v4 : Ljava/lang/String;
	move-result	v15
; v15 : single-length
	if-nez	v15,lf888e
; v15 : single-length
.line 164
	invoke-virtual	{v10,v3},org/json/JSONArray/put	; put(Ljava/lang/Object;)Lorg/json/JSONArray;
; v10 : Lorg/json/JSONArray; , v3 : Lorg/json/JSONObject;
lf8888:
.line 161
	add-int/lit8	v6,v6,1
; v6 : single-length , v6 : single-length
	goto	lf8862
lf888e:
.line 166
	invoke-virtual	{v3,v4},org/json/JSONObject/getLong	; getLong(Ljava/lang/String;)J
; v3 : Lorg/json/JSONObject; , v4 : Ljava/lang/String;
	move-result-wide	v11
; v11 : double-length
	goto	lf8888
lf8898:
.line 168
	const-wide/16	v15,0
; v15 : double-length
	cmp-long	v15,v11,v15
; v15 : single-length , v11 : double-length , v15 : single-length
	if-lez	v15,lf88de
; v15 : single-length
.line 169
	const-string	v15,"size"
; v15 : Ljava/lang/String;
	invoke-virtual	{v9,v15},org/json/JSONObject/getLong	; getLong(Ljava/lang/String;)J
; v9 : Lorg/json/JSONObject; , v15 : Ljava/lang/String;
	move-result-wide	v15
; v15 : double-length
	sub-long	v13,v15,v11
; v13 : double-length , v15 : double-length , v11 : double-length
.line 170
	const-string	v15,"entries"
; v15 : Ljava/lang/String;
	invoke-virtual	{v9,v15,v10},org/json/JSONObject/put	; put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
; v9 : Lorg/json/JSONObject; , v15 : Ljava/lang/String; , v10 : Lorg/json/JSONArray;
.line 171
	const-string	v15,"size"
; v15 : Ljava/lang/String;
	invoke-virtual	{v9,v15,v13,v14},org/json/JSONObject/put	; put(Ljava/lang/String;J)Lorg/json/JSONObject;
; v9 : Lorg/json/JSONObject; , v15 : Ljava/lang/String; , v13 : double-length
.line 172
	invoke-virtual	{v5},java/io/File/getAbsolutePath	; getAbsolutePath()Ljava/lang/String;
; v5 : Ljava/io/File;
	move-result-object	v15
; v15 : Ljava/lang/String;
	invoke-virtual	{v9},org/json/JSONObject/toString	; toString()Ljava/lang/String;
; v9 : Lorg/json/JSONObject;
	move-result-object	v16
; v16 : Ljava/lang/String;
	invoke-static/range	{v15..v16},com/pinterest/kit/io/PIOUtils/writeTextFile;	writeTextFile(Ljava/lang/String;Ljava/lang/String;)V
; v15 : Ljava/lang/String; , v16 : Ljava/lang/String;
lf88de:
.line 174
	new-instance	v15,java/lang/StringBuilder
; v15 : Ljava/lang/StringBuilder;
	invoke-direct	{v15},java/lang/StringBuilder/<init>	; <init>()V
; v15 : Ljava/lang/StringBuilder;
	const-string	v16,"deleting "
; v16 : Ljava/lang/String;
	invoke-virtual/range	{v15..v16},java/lang/StringBuilder/append;	append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v15 : Ljava/lang/StringBuilder; , v16 : Ljava/lang/String;
	move-result-object	v15
; v15 : Ljava/lang/StringBuilder;
	invoke-virtual	{v15,v4},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v15 : Ljava/lang/StringBuilder; , v4 : Ljava/lang/String;
	move-result-object	v15
; v15 : Ljava/lang/StringBuilder;
	invoke-virtual	{v15},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v15 : Ljava/lang/StringBuilder;
	move-result-object	v15
; v15 : Ljava/lang/String;
	invoke-static	{v15},com/pinterest/kit/log/PLog/error	; error(Ljava/lang/String;)V
; v15 : Ljava/lang/String;
lf890a:
	move-object	v8,v9
; v8 : Lorg/json/JSONObject; , v9 : Lorg/json/JSONObject;
lf890c:
.line 180
	return-void	
lf890e:
.line 177
	move-exception	v1
; v1 : java/lang/Exception
lf8910:
.line 178
	invoke-virtual	{v1},java/lang/Exception/printStackTrace	; printStackTrace()V
; v1 : java/lang/Exception
	goto	lf890c
lf8918:
.line 177
	move-exception	v1
; v1 : java/lang/Exception
	move-object	v8,v9
; v8 : Lorg/json/JSONObject; , v9 : Lorg/json/JSONObject;
lf891c:
	goto	lf8910
.end method

.method public static getInstance()Lcom/pinterest/kit/network/PImageDiskCache;
.limit registers 1
.line 41
	sget-object	v0,com/pinterest/kit/network/PImageDiskCache.instance Lcom/pinterest/kit/network/PImageDiskCache;
; v0 : Lcom/pinterest/kit/network/PImageDiskCache;
	if-nez	v0,lf8962
; v0 : Lcom/pinterest/kit/network/PImageDiskCache;
.line 42
	new-instance	v0,com/pinterest/kit/network/PImageDiskCache
; v0 : Lcom/pinterest/kit/network/PImageDiskCache;
	invoke-direct	{v0},com/pinterest/kit/network/PImageDiskCache/<init>	; <init>()V
; v0 : Lcom/pinterest/kit/network/PImageDiskCache;
	sput-object	v0,com/pinterest/kit/network/PImageDiskCache.instance Lcom/pinterest/kit/network/PImageDiskCache;
; v0 : Lcom/pinterest/kit/network/PImageDiskCache;
lf8962:
.line 44
	sget-object	v0,com/pinterest/kit/network/PImageDiskCache.instance Lcom/pinterest/kit/network/PImageDiskCache;
; v0 : Lcom/pinterest/kit/network/PImageDiskCache;
	return-object	v0
; v0 : Lcom/pinterest/kit/network/PImageDiskCache;
.end method

.method private recordEntry(Ljava/lang/String;J)V
.limit registers 15
; this: v11 (Lcom/pinterest/kit/network/PImageDiskCache;)
; parameter[0] : v12 (Ljava/lang/String;)
; parameter[1] : v13 (J)
.catch java/lang/Exception from lf89f0 to lf8a74 using lf8a78
.catch java/lang/Exception from lf89b8 to lf89ee using lf8a82
.catch java/lang/Exception from lf89a2 to lf89b8 using lf8a78
.var 5 is manifest Lorg/json/JSONObject; from lf89a2 to lf89b8
.var 6 is manifest Lorg/json/JSONObject; from lf89b8 to lf89f0
.var 1 is entries Lorg/json/JSONArray; from lf89fc to lf8a60
.var 2 is entry Lorg/json/JSONObject; from lf8a06 to lf8a60
.var 7 is totalSize J from lf8a2c to lf8a60
.var 5 is manifest Lorg/json/JSONObject; from lf89f0 to lf8a74
.var 6 is manifest Lorg/json/JSONObject; from lf8a74 to lf8a76
.var 0 is e Ljava/lang/Exception; from lf8a7a to lf8a82
.var 5 is manifest Lorg/json/JSONObject; from lf8a76 to lf8a82
.var 6 is manifest Lorg/json/JSONObject; from lf8a82 to lf8a86
.line 116
	invoke-virtual	{v12},java/lang/String/hashCode	; hashCode()I
; v12 : Ljava/lang/String;
	move-result	v9
; v9 : single-length
	invoke-static	{v9},java/lang/String/valueOf	; valueOf(I)Ljava/lang/String;
; v9 : single-length
	move-result-object	v3
; v3 : Ljava/lang/String;
.line 117
	invoke-direct	{v11,v3},com/pinterest/kit/network/PImageDiskCache/deleteEntry	; deleteEntry(Ljava/lang/String;)V
; v11 : Lcom/pinterest/kit/network/PImageDiskCache; , v3 : Ljava/lang/String;
.line 118
	new-instance	v4,java/io/File
; v4 : Ljava/io/File;
	iget-object	v9,v11,com/pinterest/kit/network/PImageDiskCache.cacheDir Ljava/io/File;
; v9 : Ljava/io/File; , v11 : Lcom/pinterest/kit/network/PImageDiskCache;
	const-string	v10,"manifest.json"
; v10 : Ljava/lang/String;
	invoke-direct	{v4,v9,v10},java/io/File/<init>	; <init>(Ljava/io/File;Ljava/lang/String;)V
; v4 : Ljava/io/File; , v9 : Ljava/io/File; , v10 : Ljava/lang/String;
.line 119
	const/4	v5,0
; v5 : single-length
lf89a2:
.line 121
	invoke-virtual	{v4},java/io/File/exists	; exists()Z
; v4 : Ljava/io/File;
	move-result	v9
; v9 : single-length
	if-nez	v9,lf8a62
; v9 : single-length
.line 122
	new-instance	v6,org/json/JSONObject
; v6 : Lorg/json/JSONObject;
	invoke-direct	{v6},org/json/JSONObject/<init>	; <init>()V
; v6 : Lorg/json/JSONObject;
lf89b8:
.line 123
	const-string	v9,"size"
; v9 : Ljava/lang/String;
	const/4	v10,0
; v10 : single-length
	invoke-virtual	{v6,v9,v10},org/json/JSONObject/put	; put(Ljava/lang/String;I)Lorg/json/JSONObject;
; v6 : Lorg/json/JSONObject; , v9 : Ljava/lang/String; , v10 : single-length
.line 124
	const-string	v9,"entries"
; v9 : Ljava/lang/String;
	new-instance	v10,org/json/JSONArray
; v10 : Lorg/json/JSONArray;
	invoke-direct	{v10},org/json/JSONArray/<init>	; <init>()V
; v10 : Lorg/json/JSONArray;
	invoke-virtual	{v6,v9,v10},org/json/JSONObject/put	; put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
; v6 : Lorg/json/JSONObject; , v9 : Ljava/lang/String; , v10 : Lorg/json/JSONArray;
.line 125
	invoke-virtual	{v4},java/io/File/getAbsolutePath	; getAbsolutePath()Ljava/lang/String;
; v4 : Ljava/io/File;
	move-result-object	v9
; v9 : Ljava/lang/String;
	invoke-virtual	{v6},org/json/JSONObject/toString	; toString()Ljava/lang/String;
; v6 : Lorg/json/JSONObject;
	move-result-object	v10
; v10 : Ljava/lang/String;
	invoke-static	{v9,v10},com/pinterest/kit/io/PIOUtils/writeTextFile	; writeTextFile(Ljava/lang/String;Ljava/lang/String;)V
; v9 : Ljava/lang/String; , v10 : Ljava/lang/String;
lf89ee:
	move-object	v5,v6
; v5 : Lorg/json/JSONObject; , v6 : Lorg/json/JSONObject;
lf89f0:
.line 129
	const-string	v9,"entries"
; v9 : Ljava/lang/String;
	invoke-virtual	{v5,v9},org/json/JSONObject/getJSONArray	; getJSONArray(Ljava/lang/String;)Lorg/json/JSONArray;
; v5 : Lorg/json/JSONObject; , v9 : Ljava/lang/String;
	move-result-object	v1
; v1 : Lorg/json/JSONArray;
.line 130
	new-instance	v2,org/json/JSONObject
; v2 : Lorg/json/JSONObject;
	invoke-direct	{v2},org/json/JSONObject/<init>	; <init>()V
; v2 : Lorg/json/JSONObject;
.line 131
	invoke-virtual	{v2,v3,v13,v14},org/json/JSONObject/put	; put(Ljava/lang/String;J)Lorg/json/JSONObject;
; v2 : Lorg/json/JSONObject; , v3 : Ljava/lang/String; , v13 : double-length
.line 132
	invoke-virtual	{v1,v2},org/json/JSONArray/put	; put(Ljava/lang/Object;)Lorg/json/JSONArray;
; v1 : Lorg/json/JSONArray; , v2 : Lorg/json/JSONObject;
.line 133
	const-string	v9,"entries"
; v9 : Ljava/lang/String;
	invoke-virtual	{v5,v9,v1},org/json/JSONObject/put	; put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
; v5 : Lorg/json/JSONObject; , v9 : Ljava/lang/String; , v1 : Lorg/json/JSONArray;
.line 134
	const-string	v9,"size"
; v9 : Ljava/lang/String;
	invoke-virtual	{v5,v9},org/json/JSONObject/getLong	; getLong(Ljava/lang/String;)J
; v5 : Lorg/json/JSONObject; , v9 : Ljava/lang/String;
	move-result-wide	v9
; v9 : double-length
	add-long	v7,v9,v13
; v7 : double-length , v9 : double-length , v13 : double-length
.line 135
	const-string	v9,"size"
; v9 : Ljava/lang/String;
	invoke-virtual	{v5,v9,v7,v8},org/json/JSONObject/put	; put(Ljava/lang/String;J)Lorg/json/JSONObject;
; v5 : Lorg/json/JSONObject; , v9 : Ljava/lang/String; , v7 : double-length
.line 136
	invoke-virtual	{v4},java/io/File/getAbsolutePath	; getAbsolutePath()Ljava/lang/String;
; v4 : Ljava/io/File;
	move-result-object	v9
; v9 : Ljava/lang/String;
	invoke-virtual	{v5},org/json/JSONObject/toString	; toString()Ljava/lang/String;
; v5 : Lorg/json/JSONObject;
	move-result-object	v10
; v10 : Ljava/lang/String;
	invoke-static	{v9,v10},com/pinterest/kit/io/PIOUtils/writeTextFile	; writeTextFile(Ljava/lang/String;Ljava/lang/String;)V
; v9 : Ljava/lang/String; , v10 : Ljava/lang/String;
.line 137
	const-wide/32	v9,10485760	; 0xa00000
; v9 : double-length
	cmp-long	v9,v7,v9
; v9 : single-length , v7 : double-length , v9 : single-length
	if-lez	v9,lf8a60
; v9 : single-length
	invoke-direct	{v11},com/pinterest/kit/network/PImageDiskCache/removeOldestEntry	; removeOldestEntry()V
; v11 : Lcom/pinterest/kit/network/PImageDiskCache;
lf8a60:
.line 141
	return-void	
lf8a62:
.line 127
	new-instance	v6,org/json/JSONObject
; v6 : Lorg/json/JSONObject;
	invoke-static	{v4},com/pinterest/kit/io/PIOUtils/loadTextFile	; loadTextFile(Ljava/io/File;)Ljava/lang/String;
; v4 : Ljava/io/File;
	move-result-object	v9
; v9 : Ljava/lang/String;
	invoke-direct	{v6,v9},org/json/JSONObject/<init>	; <init>(Ljava/lang/String;)V
; v6 : Lorg/json/JSONObject; , v9 : Ljava/lang/String;
lf8a74:
	move-object	v5,v6
; v5 : Lorg/json/JSONObject; , v6 : Lorg/json/JSONObject;
lf8a76:
	goto	lf89f0
lf8a78:
.line 138
	move-exception	v0
; v0 : java/lang/Exception
lf8a7a:
.line 139
	invoke-virtual	{v0},java/lang/Exception/printStackTrace	; printStackTrace()V
; v0 : java/lang/Exception
	goto	lf8a60
lf8a82:
.line 138
	move-exception	v0
; v0 : java/lang/Exception
	move-object	v5,v6
; v5 : Lorg/json/JSONObject; , v6 : Lorg/json/JSONObject;
lf8a86:
	goto	lf8a7a
.end method

.method private final removeOldestEntry()V
.limit registers 14
; this: v13 (Lcom/pinterest/kit/network/PImageDiskCache;)
.catch java/lang/Exception from lf8aee to lf8b7e using lf8b8c
.catch java/lang/Exception from lf8ad0 to lf8aee using lf8b82
.var 5 is manifest Lorg/json/JSONObject; from lf8ad0 to lf8aee
.var 2 is entry Lorg/json/JSONObject; from lf8b10 to lf8b7e
.var 3 is entryName Ljava/lang/String; from lf8b1c to lf8b7e
.var 7 is size J from lf8b28 to lf8b7e
.var 9 is toDelete Ljava/io/File; from lf8b78 to lf8b7e
.var 1 is entries Lorg/json/JSONArray; from lf8afa to lf8b80
.var 6 is manifest Lorg/json/JSONObject; from lf8aee to lf8b80
.var 0 is e Ljava/lang/Exception; from lf8b84 to lf8b8c
.var 5 is manifest Lorg/json/JSONObject; from lf8b80 to lf8b8c
.var 6 is manifest Lorg/json/JSONObject; from lf8b8c to lf8b90
.line 187
	new-instance	v4,java/io/File
; v4 : Ljava/io/File;
	iget-object	v10,v13,com/pinterest/kit/network/PImageDiskCache.cacheDir Ljava/io/File;
; v10 : Ljava/io/File; , v13 : Lcom/pinterest/kit/network/PImageDiskCache;
	const-string	v11,"manifest.json"
; v11 : Ljava/lang/String;
	invoke-direct	{v4,v10,v11},java/io/File/<init>	; <init>(Ljava/io/File;Ljava/lang/String;)V
; v4 : Ljava/io/File; , v10 : Ljava/io/File; , v11 : Ljava/lang/String;
.line 188
	const/4	v5,0
; v5 : single-length
lf8ad0:
.line 190
	invoke-virtual	{v4},java/io/File/exists	; exists()Z
; v4 : Ljava/io/File;
	move-result	v10
; v10 : single-length
	if-eqz	v10,lf8b80
; v10 : single-length
.line 191
	new-instance	v6,org/json/JSONObject
; v6 : Lorg/json/JSONObject;
	invoke-static	{v4},com/pinterest/kit/io/PIOUtils/loadTextFile	; loadTextFile(Ljava/io/File;)Ljava/lang/String;
; v4 : Ljava/io/File;
	move-result-object	v10
; v10 : Ljava/lang/String;
	invoke-direct	{v6,v10},org/json/JSONObject/<init>	; <init>(Ljava/lang/String;)V
; v6 : Lorg/json/JSONObject; , v10 : Ljava/lang/String;
lf8aee:
.line 192
	const-string	v10,"entries"
; v10 : Ljava/lang/String;
	invoke-virtual	{v6,v10},org/json/JSONObject/getJSONArray	; getJSONArray(Ljava/lang/String;)Lorg/json/JSONArray;
; v6 : Lorg/json/JSONObject; , v10 : Ljava/lang/String;
	move-result-object	v1
; v1 : Lorg/json/JSONArray;
.line 193
	invoke-virtual	{v1},org/json/JSONArray/length	; length()I
; v1 : Lorg/json/JSONArray;
	move-result	v10
; v10 : single-length
	if-lez	v10,lf8b7e
; v10 : single-length
.line 194
	const/4	v10,0
; v10 : single-length
	invoke-virtual	{v1,v10},org/json/JSONArray/getJSONObject	; getJSONObject(I)Lorg/json/JSONObject;
; v1 : Lorg/json/JSONArray; , v10 : single-length
	move-result-object	v2
; v2 : Lorg/json/JSONObject;
.line 195
	const-string	v10,"name"
; v10 : Ljava/lang/String;
	invoke-virtual	{v2,v10},org/json/JSONObject/getString	; getString(Ljava/lang/String;)Ljava/lang/String;
; v2 : Lorg/json/JSONObject; , v10 : Ljava/lang/String;
	move-result-object	v3
; v3 : Ljava/lang/String;
.line 196
	const-string	v10,"size"
; v10 : Ljava/lang/String;
	invoke-virtual	{v2,v10},org/json/JSONObject/getLong	; getLong(Ljava/lang/String;)J
; v2 : Lorg/json/JSONObject; , v10 : Ljava/lang/String;
	move-result-wide	v7
; v7 : double-length
.line 197
	const/4	v10,0
; v10 : single-length
	invoke-static	{v1,v10},com/pinterest/kit/json/PJSONUtils/removeIndex	; removeIndex(Lorg/json/JSONArray;I)Lorg/json/JSONArray;
; v1 : Lorg/json/JSONArray; , v10 : single-length
	move-result-object	v1
; v1 : Lorg/json/JSONArray;
.line 198
	const-string	v10,"entries"
; v10 : Ljava/lang/String;
	invoke-virtual	{v6,v10,v1},org/json/JSONObject/put	; put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
; v6 : Lorg/json/JSONObject; , v10 : Ljava/lang/String; , v1 : Lorg/json/JSONArray;
.line 199
	const-string	v10,"size"
; v10 : Ljava/lang/String;
	const-string	v11,"size"
; v11 : Ljava/lang/String;
	invoke-virtual	{v6,v11},org/json/JSONObject/getLong	; getLong(Ljava/lang/String;)J
; v6 : Lorg/json/JSONObject; , v11 : Ljava/lang/String;
	move-result-wide	v11
; v11 : double-length
	sub-long/2addr	v11,v7
; v11 : double-length , v7 : double-length
	invoke-virtual	{v6,v10,v11,v12},org/json/JSONObject/put	; put(Ljava/lang/String;J)Lorg/json/JSONObject;
; v6 : Lorg/json/JSONObject; , v10 : Ljava/lang/String; , v11 : double-length
.line 200
	invoke-virtual	{v4},java/io/File/getAbsolutePath	; getAbsolutePath()Ljava/lang/String;
; v4 : Ljava/io/File;
	move-result-object	v10
; v10 : Ljava/lang/String;
	invoke-virtual	{v6},org/json/JSONObject/toString	; toString()Ljava/lang/String;
; v6 : Lorg/json/JSONObject;
	move-result-object	v11
; v11 : Ljava/lang/String;
	invoke-static	{v10,v11},com/pinterest/kit/io/PIOUtils/writeTextFile	; writeTextFile(Ljava/lang/String;Ljava/lang/String;)V
; v10 : Ljava/lang/String; , v11 : Ljava/lang/String;
.line 201
	new-instance	v9,java/io/File
; v9 : Ljava/io/File;
	iget-object	v10,v13,com/pinterest/kit/network/PImageDiskCache.cacheDir Ljava/io/File;
; v10 : Ljava/io/File; , v13 : Lcom/pinterest/kit/network/PImageDiskCache;
	invoke-direct	{v9,v10,v3},java/io/File/<init>	; <init>(Ljava/io/File;Ljava/lang/String;)V
; v9 : Ljava/io/File; , v10 : Ljava/io/File; , v3 : Ljava/lang/String;
.line 202
	invoke-virtual	{v9},java/io/File/delete	; delete()Z
; v9 : Ljava/io/File;
lf8b7e:
	move-object	v5,v6
; v5 : Lorg/json/JSONObject; , v6 : Lorg/json/JSONObject;
lf8b80:
.line 208
	return-void	
lf8b82:
.line 205
	move-exception	v0
; v0 : java/lang/Exception
lf8b84:
.line 206
	invoke-virtual	{v0},java/lang/Exception/printStackTrace	; printStackTrace()V
; v0 : java/lang/Exception
	goto	lf8b80
lf8b8c:
.line 205
	move-exception	v0
; v0 : java/lang/Exception
	move-object	v5,v6
; v5 : Lorg/json/JSONObject; , v6 : Lorg/json/JSONObject;
lf8b90:
	goto	lf8b84
.end method

.method public add(Landroid/graphics/Bitmap;Ljava/lang/String;)Z
.limit registers 5
; this: v2 (Lcom/pinterest/kit/network/PImageDiskCache;)
; parameter[0] : v3 (Landroid/graphics/Bitmap;)
; parameter[1] : v4 (Ljava/lang/String;)
.catch java/lang/Exception from lf8bd4 to lf8bde using lf8be2
.line 55
	new-instance	v0,com/pinterest/kit/network/PImageDiskCache$CacheBitmap
; v0 : Lcom/pinterest/kit/network/PImageDiskCache$CacheBitmap;
	new-instance	v1,java/lang/ref/WeakReference
; v1 : Ljava/lang/ref/WeakReference;
	invoke-direct	{v1,v3},java/lang/ref/WeakReference/<init>	; <init>(Ljava/lang/Object;)V
; v1 : Ljava/lang/ref/WeakReference; , v3 : Landroid/graphics/Bitmap;
	invoke-direct	{v0,v2,v1,v4},com/pinterest/kit/network/PImageDiskCache$CacheBitmap/<init>	; <init>(Lcom/pinterest/kit/network/PImageDiskCache;Ljava/lang/ref/WeakReference;Ljava/lang/String;)V
; v0 : Lcom/pinterest/kit/network/PImageDiskCache$CacheBitmap; , v2 : Lcom/pinterest/kit/network/PImageDiskCache; , v1 : Ljava/lang/ref/WeakReference; , v4 : Ljava/lang/String;
lf8bd4:
.line 57
	iget-object	v1,v2,com/pinterest/kit/network/PImageDiskCache.saveQueue Ljava/util/concurrent/BlockingQueue;
; v1 : Ljava/util/concurrent/BlockingQueue; , v2 : Lcom/pinterest/kit/network/PImageDiskCache;
	invoke-interface	{v1,v0},java/util/concurrent/BlockingQueue/add	; add(Ljava/lang/Object;)Z
; v1 : Ljava/util/concurrent/BlockingQueue; , v0 : Lcom/pinterest/kit/network/PImageDiskCache$CacheBitmap;
lf8bde:
.line 58
	const/4	v1,1
; v1 : single-length
lf8be0:
.line 60
	return	v1
; v1 : single-length
lf8be2:
.line 59
	move-exception	v1
; v1 : java/lang/Exception
.line 60
	const/4	v1,0
; v1 : single-length
	goto	lf8be0
.end method

.method public get(Ljava/lang/String;)Landroid/graphics/Bitmap;
.limit registers 6
; this: v4 (Lcom/pinterest/kit/network/PImageDiskCache;)
; parameter[0] : v5 (Ljava/lang/String;)
.var 0 is b Landroid/graphics/Bitmap; from lf8c42 to lf8c46
.line 69
	invoke-virtual	{v5},java/lang/String/hashCode	; hashCode()I
; v5 : Ljava/lang/String;
	move-result	v3
; v3 : single-length
	invoke-static	{v3},java/lang/String/valueOf	; valueOf(I)Ljava/lang/String;
; v3 : single-length
	move-result-object	v2
; v2 : Ljava/lang/String;
.line 70
	new-instance	v1,java/io/File
; v1 : Ljava/io/File;
	iget-object	v3,v4,com/pinterest/kit/network/PImageDiskCache.cacheDir Ljava/io/File;
; v3 : Ljava/io/File; , v4 : Lcom/pinterest/kit/network/PImageDiskCache;
	invoke-direct	{v1,v3,v2},java/io/File/<init>	; <init>(Ljava/io/File;Ljava/lang/String;)V
; v1 : Ljava/io/File; , v3 : Ljava/io/File; , v2 : Ljava/lang/String;
.line 71
	invoke-virtual	{v1},java/io/File/exists	; exists()Z
; v1 : Ljava/io/File;
	move-result	v3
; v3 : single-length
	if-eqz	v3,lf8c48
; v3 : single-length
.line 72
	invoke-virtual	{v1},java/io/File/getAbsolutePath	; getAbsolutePath()Ljava/lang/String;
; v1 : Ljava/io/File;
	move-result-object	v3
; v3 : Ljava/lang/String;
	invoke-static	{v3},com/pinterest/kit/network/PImageCache/decodeBitmap	; decodeBitmap(Ljava/lang/String;)Landroid/graphics/Bitmap;
; v3 : Ljava/lang/String;
	move-result-object	v0
; v0 : Landroid/graphics/Bitmap;
.line 73
	if-eqz	v0,lf8c48
; v0 : Landroid/graphics/Bitmap;
lf8c46:
.line 75
	return-object	v0
; v0 : single-length
lf8c48:
	const/4	v0,0
; v0 : single-length
	goto	lf8c46
.end method


