.class com/pinterest/kit/network/PImageCache$PhotosLoader
.super java/lang/Thread
.source PImageCache.java

.inner class PhotosLoader inner com/pinterest/kit/network/PImageCache$PhotosLoader outer com/pinterest/kit/network/PImageCache
.field final this$0 Lcom/pinterest/kit/network/PImageCache;

.method <init>(Lcom/pinterest/kit/network/PImageCache;)V
.limit registers 2
; this: v0 (Lcom/pinterest/kit/network/PImageCache$PhotosLoader;)
; parameter[0] : v1 (Lcom/pinterest/kit/network/PImageCache;)
.line 354
	iput-object	v1,v0,com/pinterest/kit/network/PImageCache$PhotosLoader.this$0 Lcom/pinterest/kit/network/PImageCache;
; v1 : Lcom/pinterest/kit/network/PImageCache; , v0 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader;
	invoke-direct	{v0},java/lang/Thread/<init>	; <init>()V
; v0 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader;
	return-void	
.end method

.method public run()V
.limit registers 12
; this: v11 (Lcom/pinterest/kit/network/PImageCache$PhotosLoader;)
.catch java/lang/InterruptedException from lf7c94 to lf7de4 using lf7de6
.var 3 is bmp Landroid/graphics/Bitmap; from lf7cfa to lf7db4
.var 4 is iv Lcom/pinterest/kit/network/PImageCachable; from lf7cd6 to lf7db4
.var 5 is url Ljava/lang/String; from lf7cda to lf7db4
.var 6 is time J from lf7cbc to lf7db4
.var 8 is photoToLoad Lcom/pinterest/kit/network/PImageCache$PendingPhoto; from lf7cb0 to lf7dc0
.var 3 is bmp Landroid/graphics/Bitmap; from lf7dc2 to lf7de6
.var 4 is iv Lcom/pinterest/kit/network/PImageCachable; from lf7dc2 to lf7de6
.var 5 is url Ljava/lang/String; from lf7dc2 to lf7de6
.var 6 is time J from lf7dc2 to lf7de6
.var 8 is photoToLoad Lcom/pinterest/kit/network/PImageCache$PendingPhoto; from lf7dc2 to lf7de6
lf7c94:
.line 363
	iget-object	v1,v11,com/pinterest/kit/network/PImageCache$PhotosLoader.this$0 Lcom/pinterest/kit/network/PImageCache;
; v1 : Lcom/pinterest/kit/network/PImageCache; , v11 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader;
	iget-object	v1,v1,com/pinterest/kit/network/PImageCache.photoQueue Lcom/pinterest/kit/network/PImageCache$PhotosQueue;
; v1 : Lcom/pinterest/kit/network/PImageCache$PhotosQueue; , v1 : Lcom/pinterest/kit/network/PImageCache$PhotosQueue;
	invoke-static	{v1},com/pinterest/kit/network/PImageCache$PhotosQueue/access$000	; access$000(Lcom/pinterest/kit/network/PImageCache$PhotosQueue;)Ljava/util/concurrent/PriorityBlockingQueue;
; v1 : Lcom/pinterest/kit/network/PImageCache$PhotosQueue;
	move-result-object	v1
; v1 : Ljava/util/concurrent/PriorityBlockingQueue;
	invoke-virtual	{v1},java/util/concurrent/PriorityBlockingQueue/take	; take()Ljava/lang/Object;
; v1 : Ljava/util/concurrent/PriorityBlockingQueue;
	move-result-object	v8
; v8 : Ljava/lang/Object;
	check-cast	v8,com/pinterest/kit/network/PImageCache$PendingPhoto
; v8 : Lcom/pinterest/kit/network/PImageCache$PendingPhoto;
.line 366
	if-eqz	v8,lf7db4
; v8 : Lcom/pinterest/kit/network/PImageCache$PendingPhoto;
.line 368
	invoke-static	{},java/lang/System/currentTimeMillis	; currentTimeMillis()J
; 
	nop	
	move-result-wide	v6
; v6 : double-length
.line 369
	const-string	v1,"image load requested..."
; v1 : Ljava/lang/String;
	invoke-static	{v1},com/pinterest/kit/log/PLog/logv	; logv(Ljava/lang/String;)V
; v1 : Ljava/lang/String;
.line 370
	iget-object	v1,v8,com/pinterest/kit/network/PImageCache$PendingPhoto.imageView Ljava/lang/ref/WeakReference;
; v1 : Ljava/lang/ref/WeakReference; , v8 : Lcom/pinterest/kit/network/PImageCache$PendingPhoto;
	invoke-virtual	{v1},java/lang/ref/WeakReference/get	; get()Ljava/lang/Object;
; v1 : Ljava/lang/ref/WeakReference;
	move-result-object	v4
; v4 : Ljava/lang/Object;
	check-cast	v4,com/pinterest/kit/network/PImageCachable
; v4 : Lcom/pinterest/kit/network/PImageCachable;
.line 371
	iget-object	v5,v8,com/pinterest/kit/network/PImageCache$PendingPhoto.url Ljava/lang/String;
; v5 : Ljava/lang/String; , v8 : Lcom/pinterest/kit/network/PImageCache$PendingPhoto;
.line 372
	if-eqz	v4,lf7db4
; v4 : Lcom/pinterest/kit/network/PImageCachable;
	if-nez	v5,lf7cee
; v5 : Ljava/lang/String;
	invoke-virtual	{v5},java/lang/String/length	; length()I
; v5 : Ljava/lang/String;
	move-result	v1
; v1 : single-length
	if-lez	v1,lf7db4
; v1 : single-length
lf7cee:
.line 374
	iget-object	v1,v11,com/pinterest/kit/network/PImageCache$PhotosLoader.this$0 Lcom/pinterest/kit/network/PImageCache;
; v1 : Lcom/pinterest/kit/network/PImageCache; , v11 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader;
	invoke-virtual	{v1,v5},com/pinterest/kit/network/PImageCache/getBitmap	; getBitmap(Ljava/lang/String;)Landroid/graphics/Bitmap;
; v1 : Lcom/pinterest/kit/network/PImageCache; , v5 : Ljava/lang/String;
	move-result-object	v3
; v3 : Landroid/graphics/Bitmap;
.line 375
	if-eqz	v3,lf7db4
; v3 : Landroid/graphics/Bitmap;
.line 376
	invoke-interface	{v4},com/pinterest/kit/network/PImageCachable/getUrl	; getUrl()Ljava/lang/String;
; v4 : Lcom/pinterest/kit/network/PImageCachable;
	move-result-object	v1
; v1 : Ljava/lang/String;
	if-eqz	v1,lf7d8e
; v1 : Ljava/lang/String;
	invoke-interface	{v4},com/pinterest/kit/network/PImageCachable/getUrl	; getUrl()Ljava/lang/String;
; v4 : Lcom/pinterest/kit/network/PImageCachable;
	move-result-object	v1
; v1 : Ljava/lang/String;
	invoke-virtual	{v1,v5},java/lang/String/equals	; equals(Ljava/lang/Object;)Z
; v1 : Ljava/lang/String; , v5 : Ljava/lang/String;
	move-result	v1
; v1 : single-length
	if-eqz	v1,lf7d8e
; v1 : single-length
.line 377
	invoke-interface	{v4},com/pinterest/kit/network/PImageCachable/getViewContext	; getViewContext()Landroid/content/Context;
; v4 : Lcom/pinterest/kit/network/PImageCachable;
	move-result-object	v1
; v1 : Landroid/content/Context;
	if-nez	v1,lf7dc2
; v1 : Landroid/content/Context;
.line 378
	invoke-virtual	{v3},android/graphics/Bitmap/prepareToDraw	; prepareToDraw()V
; v3 : Landroid/graphics/Bitmap;
.line 379
	invoke-interface	{v4},com/pinterest/kit/network/PImageCachable/getUrl	; getUrl()Ljava/lang/String;
; v4 : Lcom/pinterest/kit/network/PImageCachable;
	move-result-object	v1
; v1 : Ljava/lang/String;
	invoke-virtual	{v1,v5},java/lang/String/equals	; equals(Ljava/lang/Object;)Z
; v1 : Ljava/lang/String; , v5 : Ljava/lang/String;
	move-result	v1
; v1 : single-length
	if-eqz	v1,lf7d4c
; v1 : single-length
	const/4	v1,0
; v1 : single-length
	invoke-interface	{v4,v3,v1},com/pinterest/kit/network/PImageCachable/setBitmap	; setBitmap(Landroid/graphics/Bitmap;Z)V
; v4 : Lcom/pinterest/kit/network/PImageCachable; , v3 : Landroid/graphics/Bitmap; , v1 : single-length
lf7d4c:
.line 380
	new-instance	v1,java/lang/StringBuilder
; v1 : Ljava/lang/StringBuilder;
	invoke-direct	{v1},java/lang/StringBuilder/<init>	; <init>()V
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,"displayed "
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-static	{},java/lang/System/currentTimeMillis	; currentTimeMillis()J
; 
	nop	
	move-result-wide	v9
; v9 : double-length
	sub-long/2addr	v9,v6
; v9 : double-length , v6 : double-length
	invoke-virtual	{v1,v9,v10},java/lang/StringBuilder/append	; append(J)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v9 : double-length
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	const-string	v2,"ms"
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v1},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v1 : Ljava/lang/StringBuilder;
	move-result-object	v1
; v1 : Ljava/lang/String;
	invoke-static	{v1},com/pinterest/kit/log/PLog/logv	; logv(Ljava/lang/String;)V
; v1 : Ljava/lang/String;
lf7d8e:
.line 391
	iget-object	v1,v8,com/pinterest/kit/network/PImageCache$PendingPhoto.imageView Ljava/lang/ref/WeakReference;
; v1 : Ljava/lang/ref/WeakReference; , v8 : Lcom/pinterest/kit/network/PImageCache$PendingPhoto;
	invoke-virtual	{v1},java/lang/ref/WeakReference/get	; get()Ljava/lang/Object;
; v1 : Ljava/lang/ref/WeakReference;
	move-result-object	v1
; v1 : Ljava/lang/Object;
	if-eqz	v1,lf7db4
; v1 : Ljava/lang/Object;
	iget-object	v1,v11,com/pinterest/kit/network/PImageCache$PhotosLoader.this$0 Lcom/pinterest/kit/network/PImageCache;
; v1 : Lcom/pinterest/kit/network/PImageCache; , v11 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader;
	invoke-static	{v1},com/pinterest/kit/network/PImageCache/access$100	; access$100(Lcom/pinterest/kit/network/PImageCache;)Ljava/util/concurrent/ConcurrentMap;
; v1 : Lcom/pinterest/kit/network/PImageCache;
	move-result-object	v1
; v1 : Ljava/util/concurrent/ConcurrentMap;
	iget-object	v2,v8,com/pinterest/kit/network/PImageCache$PendingPhoto.url Ljava/lang/String;
; v2 : Ljava/lang/String; , v8 : Lcom/pinterest/kit/network/PImageCache$PendingPhoto;
	invoke-interface	{v1,v2,v3},java/util/concurrent/ConcurrentMap/put	; put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
; v1 : Ljava/util/concurrent/ConcurrentMap; , v2 : Ljava/lang/String; , v3 : Landroid/graphics/Bitmap;
lf7db4:
.line 395
	invoke-static	{},java/lang/Thread/interrupted	; interrupted()Z
; 
	nop	
	move-result	v1
; v1 : single-length
	if-eqz	v1,lf7c94
; v1 : single-length
lf7dc0:
.line 399
	return-void	
lf7dc2:
.line 382
	invoke-interface	{v4},com/pinterest/kit/network/PImageCachable/getViewContext	; getViewContext()Landroid/content/Context;
; v4 : Lcom/pinterest/kit/network/PImageCachable;
	move-result-object	v1
; v1 : Landroid/content/Context;
	move-object	v0,v1
; v0 : Landroid/content/Context; , v1 : Landroid/content/Context;
	check-cast	v0,android/app/Activity
; v0 : Landroid/app/Activity;
	move-object	v9,v0
; v9 : Landroid/app/Activity; , v0 : Landroid/app/Activity;
	new-instance	v1,com/pinterest/kit/network/PImageCache$PhotosLoader$1
; v1 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader$1;
	move-object	v2,v11
; v2 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader; , v11 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader;
	invoke-direct/range	{v1..v7},com/pinterest/kit/network/PImageCache$PhotosLoader$1/<init>;	<init>(Lcom/pinterest/kit/network/PImageCache$PhotosLoader;Landroid/graphics/Bitmap;Lcom/pinterest/kit/network/PImageCachable;Ljava/lang/String;J)V
; v1 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader$1; , v2 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader; , v3 : Landroid/graphics/Bitmap; , v4 : Lcom/pinterest/kit/network/PImageCachable; , v5 : Ljava/lang/String; , v6 : double-length
	invoke-virtual	{v9,v1},android/app/Activity/runOnUiThread	; runOnUiThread(Ljava/lang/Runnable;)V
; v9 : Landroid/app/Activity; , v1 : Lcom/pinterest/kit/network/PImageCache$PhotosLoader$1;
lf7de4:
	goto	lf7d8e
lf7de6:
.line 398
	move-exception	v1
; v1 : java/lang/InterruptedException
	goto	lf7dc0
.end method


